{% extends "base.html" %}

{% block title %}Habits{% endblock %}

{% block content %}

{{ forms.habit_entry_modal() }}

<div id="habits-chart-container"></div>

{% call ui.dropdown('Select Window') %}
    <button class="chart-range" data-range="1">Today</button>
    <button class="chart-range" data-range="7">7d</button>
    <button class="chart-range" data-range="30">30d</button>
{% endcall %}

<div class="card-dashboard">
    <div class="card-title">
        <h2>Habits (showing last {{selected_range}} days)</h2>
        {{ ui.plus_btn('habits-entry-dashboard-btn') }}
    </div>

    {% call ui.dropdown('Select Timeframe') %}
        <button class="table-range" data-range="1">Today</button>
        <button class="table-range" data-range="7">7d</button>
        <button class="table-range" data-range="30">30d</button>
    {% endcall %}
    
    {% call(item, headers) ui.responsive_table('Habits', headers, habits, 'habits', 'habits') %}
        <td class="{{ headers[0].priority}} editable-cell" data-item-id="{{ item.id }}" data-module="habits" data-subtype="habits" data-field="name" data-tip="Double-click to edit field.">{{ item.name }}</td>
        <td class="{{ headers[1].priority}}">{{ item.status_label }}</td>
        <td class="{{ headers[2].priority}}">{{ item.created_at_label }}</td>
    {% endcall %}
</div>
{% endblock %}

{% block scripts %}{% endblock %}