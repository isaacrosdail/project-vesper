{% extends 'base.html' %}

{% block title %}Time Tracking{% endblock %}

{% block content %}

{{ forms.time_entry_modal(current_date=current_date) }}

<div class="timeframe-selector">
    <button class="chart-range" data-range="7">7d</button>
    <button class="chart-range" data-range="30">30d</button>
    <button class="chart-range" data-range="90">90d</button>
</div>

<div id="time_tracking-chart-container"></div>

<section id="activity-log-card" class="card-dashboard">
    <div class="card-title">
        <h2>Time Entries</h2>
        {{ ui.plus_btn('time_entries-entry-dashboard-btn') }}
        Last
        {% call ui.dropdown(time_entries_params['range']) %}
            <button class="table-range" data-range="1" data-table="time_entries">Today</button>
            <button class="table-range" data-range="7" data-table="time_entries">7d</button>
            <button class="table-range" data-range="30" data-table="time_entries">30d</button>
        {% endcall %}
        days
    </div>

    {% call(item, headers) ui.responsive_table('Time Entries', entry_headers, entries, 'time_tracking', 'time_entries', time_entries_params, sortable=True) %}
    <td class="{{ headers[0].priority }}">{{ item.date_label }}</td>
    <td class="{{ headers[1].priority }}">{{ item.category }}</td>
    <td class="{{ headers[2].priority }} text-right">{{ item.time_window_label }}</td>
    <td class="{{ headers[3].priority }}">{{ item.desc_label }}</td>
    {% endcall %}
</section>
{% endblock %}