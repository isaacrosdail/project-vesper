{% extends 'base.html' %}

{% block title %}Time Tracking{% endblock %}

{% block content %}

{{ forms.time_entry_modal(current_date=current_date) }}

<div id="time-chart"></div>

{% call ui.dropdown('Select Window') %}
    <button class="timeframe-selection" data-range="1">Today</button>
    <button class="timeframe-selection" data-range="7">7 days</button>
{% endcall %}


<template id="time_entries-row-template">
    <tr class="table-row" data-item-id data-module="time_tracking" data-subtype="time_entries">
        <td class="essential"></td>
        <td class="essential _text-right"></td>
        <td class="essential _text-right"></td>
        <td class="essential"></td>
        <td class="table-cell delete-cell">
            <button class="row-actions dots-btn btn-icon btn-square" data-item-id>
                {{ ui.options_ellipsis() }}
            </button>
        </td>
    </tr>
</template>

<section id="activity-log-card" class="card-dashboard">
    <div class="card-title">
        <h2>Time Entries</h2>
        {{ ui.plus_btn('time_entries-entry-dashboard-btn') }}
    </div>
    {% call(item, headers) ui.responsive_table('Time Entries', entry_headers, entries, 'time_tracking', 'time_entries') %}
    <td class="{{ headers[0].priority }}">{{ item.category }}</td>
    <td class="{{ headers[1].priority }} _text-right">{{ item.duration_label }}</td>
    <td class="{{ headers[2].priority }} _text-right">{{ item.started_at_label }}</td>
    <td class="{{ headers[3].priority }}">{{ item.desc_label }}</td>
    {% endcall %}
</section>
{% endblock %}